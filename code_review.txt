ontroller
brakuje service jako property klasy
np.
private CartService $service;
Serwis lepiej wstrzykiwa zamiast w konstruktorze to w konkretnej metodzie
np.
public function add(Request $request, CartService $service): RedirectResponse {}
Gdy potrzebujesz w urlu id to wstawiaj go jako 1 parametr w metodzie:
np.
public function destroy(int $id, Request $request): RedirectResponse
Brakuje typowania i return type.
W kontrolerze nie powiniene wstrzykiwa klasy Request tylko konkretny Request z laravela kt贸ry tworzysz poleceniem:
php artisan make:request TutajNazwaRequesta
W nim mo偶esz utworzy walidacj dla danego requesta tutaj dokumentacja:
https://laravel.com/docs/8.x/validation#form-request-validation
Service
Nie walidujemy w serwisie - staramy si jak najszybciej "wejcia" wyapa request kt贸ry jest bdny, walidujemy w FormRequest wstrzykiwany w kontroller tak jak wy偶ej pisaem
ma by getItemById, a nie getItemByID - u偶ywaj camel case
Po co u偶ywasz getItemById dwukrotnie? Najpierw w warunku a potem do pobrania itemu - jest to bdne zachowanie
Powiniene odseparowa jeszcze warstw dotyczc samego zapisu/usunicia do repozytorium
Ze nazewnictwo metod - add a masz tutaj tzw. upsert(update+insert) czyli albo aktualizujesz albo dodajesz nowy w jednej metodzie
Analogicznie powiniene zrobi metod dla remove i destroy przy czym to te偶 za nazwa
powiniene mie 2 metody 1 do dodania itemu do koszyka, a druga do zdjcia itemu z koszyka
Book - wiem 偶e nie chciae skupia si na tym
ze nazewnictwo metod - powinny one konkretnie mie jakie publisher(), categories(), authors(), orderItems(), comments()
Odpowiednio jak masz relacj one to one to powinna by liczba pojedyncza w nazwie, jak jest many to one to liczba pojedyncza, jak jest one to many to liczba mnoga, i jak many to many to te偶 liczba mnoga
i metody kt贸re si nazywaj hasCoTam powinny zwraca boolean - true, false, czy co zawieraj czy nie, a tutaj zwr贸ci Ci kolekcj encji wic to jest bdne
Cart
bdne formatowanie odstp pomidzy <?php a namespace a use
brakuje type hintu przy $items
Zy namespace, jak widz Cart to odpowiednik modelu a nie encji i powinien si znajdowa w osobnym folderze ni偶 encje bo to mylce
brakuje return type
XMA Header Image
Validation - Laravel - The PHP Framework For Web Artisans
laravel.com

Adam
wysane
3 min temu
brakuje Ci hermetyzacji danych
Adam
wysane
3 min temu
dane nie powinny by wycigane z klas prosto z p贸l tylko getterami
Adam
wysane
3 min temu
CartItem     public function decreaseAmount($amountToRemove): void
    {
        if ($amountToRemove > $this->amount) {
        }
        if ($this->amount == 1) {
        } else {
            $this->amount = $this->amount - $amountToRemove;
        }
    }
Adam
wysane
3 min temu
ta metoda to jakie nieporozumienie 
